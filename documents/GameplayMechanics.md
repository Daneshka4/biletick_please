# Gameplay Mechanics Document

## 1. Введение
Данный документ описывает ключевые игровые механики проекта. Он охватывает основные действия игрока, систему взаимодействия с игровыми элементами, а также правила и алгоритмы, лежащие в основе симуляции работы кондуктора. Цель документа – предоставить подробное описание механик, которые будут реализованы в игре, и служить руководством для разработчиков и тестировщиков.

## 2. Основные механики
### 2.1. Проверка расписания поездов
- **Описание:** Игрок просматривает список поездов с информацией о номере, направлении и времени отправления. Механика предусматривает сортировку и фильтрацию данных, что позволяет быстро найти нужный поезд.
- **Реализация:** 
  - Загрузка данных из JSON-файла посредством ScheduleManager.
  - Отображение информации в виде таблицы или списка на UI.
  - Возможность обновления и редактирования данных в режиме реального времени.
- **Пользовательский опыт:** Игрок выбирает поезд из списка, после чего на экране появляется подробная информация о выбранном маршруте.

### 2.2. Покупка билетов
- **Описание:** Механика покупки билетов включает генерацию уникального кода для каждого билета, его сохранение и отображение пользователю.
- **Реализация:** 
  - При нажатии кнопки «Купить билет» вызывается метод в TicketManager, генерирующий уникальный код на основе номера поезда и случайного значения.
  - Сохранение кода билета в списке действительных билетов.
  - Отображение уведомления о успешной покупке билета.
- **Пользовательский опыт:** Пользователь получает мгновенное подтверждение покупки, с возможностью копирования или сохранения кода билета для дальнейшей проверки.

### 2.3. Проверка билетов
- **Описание:** Игрок может ввести код билета для проверки его подлинности. Механика сравнивает введённый код с сохранёнными в системе.
- **Реализация:** 
  - Метод CheckTicket в TicketManager принимает введённый пользователем код и проверяет его наличие в базе данных.
  - В случае совпадения – билет считается действительным, иначе – отображается сообщение об ошибке.
- **Пользовательский опыт:** Быстрая и точная проверка билета позволяет избежать ошибок и повышает удовлетворённость пользователя.

### 2.4. Система штрафов и бонусов
- **Описание:** Дополнительная механика, которая вводит элемент риска: за ошибки в проверке или покупках начисляются штрафные баллы, а за точные действия – бонусы.
- **Реализация:** 
  - Внедрение переменной счета, обновляемой в зависимости от действий игрока.
  - Логика начисления бонусов за быструю и точную работу, а также вычитание баллов за ошибки.
- **Пользовательский опыт:** Эта система мотивирует игрока к внимательности и быстроте, добавляя элемент стратегии в процесс.

## 3. Алгоритмы и правила
- **Алгоритм генерации билетов:**  
  - При покупке билета система объединяет номер выбранного поезда с случайным числом, что обеспечивает уникальность каждого билета.
- **Алгоритм проверки билетов:**  
  - При вводе кода билета происходит поиск в списке действительных билетов. Если билет найден – выдается положительный результат проверки.
- **Правила взаимодействия:**  
  - Время на выполнение каждой операции ограничено, что создаёт динамичность игрового процесса.
  - Взаимодействие между модулями происходит через события и делегаты, что обеспечивает гибкость и масштабируемость системы.

## 4. Интеграция механик с UI
- Все игровые механики интегрированы с пользовательским интерфейсом посредством вызова соответствующих методов из GameManager.
- UI-элементы обновляются в режиме реального времени, предоставляя игроку оперативную обратную связь о его действиях.
- Пример: при покупке билета сразу после нажатия кнопки происходит вызов метода, который обновляет текстовое поле с сообщением о результате операции.

## 5. Тестирование игровых механик
- **Модульное тестирование:** Проверка отдельных компонентов (TicketManager, ScheduleManager) на корректность работы.
- **Интеграционные тесты:** Проверка взаимодействия игровых механик с UI и друг с другом.
- **Игровой баланс:** Анализ и корректировка времени выполнения операций, сложности задач и начисления бонусов/штрафов.

## 6. Выводы
Данный документ детализирует игровые механики, лежащие в основе симулятора работы кондуктора. Описанные механики обеспечивают глубокое погружение в игровой процесс, создавая баланс между сложностью, динамичностью и интуитивностью интерфейса. Документ служит руководством для разработчиков и тестировщиков, позволяя обеспечить единое понимание логики игры и способствовать дальнейшему масштабированию функционала.

---

*Конец документа*
